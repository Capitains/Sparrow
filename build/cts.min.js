var CTS=function(a){"use strict";function a(){return{}}return new a}(CTS),CTS=function(a){"use strict";function b(a,b){var f;return f={},"undefined"==typeof b&&(f.namespace=3===a?"http://chs.harvard.edu/xmlns/cts3/ti":"http://chs.harvard.edu/xmlns/cts"),f.version=a,f.url=[],f.data={},f.setUrl=d,f.load=e,f.xhr=c,f.Repository=3===f.version?g:null,f}var c=function(a,b,c,d){var e;if("undefined"==typeof d&&(d=!0),window&&window.XMLHttpRequest)e=new XMLHttpRequest;else{if(!window||!window.ActiveXObject)return null;var f,g;if(window.ActiveXObject){f=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Msxml2.XMLHTTP","Microsoft.XMLHTTP"];for(g in f)try{return new ActiveXObject(f[g])}catch(h){}}}try{e.open(a,b,d),e.onreadystatechange=function(){4===e.readyState&&"function"==typeof c&&c(e.responseXML)},e.send()}catch(i){console.error(i)}},d=function(a){"string"==typeof a?this.url=[a]:"array"==typeof a&&(this.url=a)},e=function(a,b){var a,b,c=(this.xhr,this);if("function"==typeof a)var b=a,a=this.url;else if("undefined"==typeof a&&"undefined"==typeof b)var a=this.url;if("string"==typeof a)var a=[a];return this.xhr("GET",a[0],function(d){c.data[a[0]]=new c.Repository(d,c.namespace),1===a.length?b():(a.shift(),this.load(a,b))}),this},f=function(a){var b={};return b.label={},[].map.call(a.getElementsByTagName("groupname"),function(a){b.defaultLang=a.getAttribute("xml:lang"),b.label[b.defaultLang]=a.textContent}),b.getName=function(a){if("undefined"===a)a=this.defaultLang;else if(!(a in this.label))return this.label[this.defaultLang];return this.label[a]},b},g=function(a,b){var c,d={};return d.namespace=b,d.TextGroup=f,c=a.getElementsByTagNameNS(d.namespace,"TextInventory"),1==c.length?(d.TextInventory=c[0],d.TextGroups=[].map.call(d.TextInventory.getElementsByTagNameNS(d.namespace,"textgroup"),f)):(d.TextInventory=null,d.TextInventory=[]),d};return a.repository=b,a}(CTS);