<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Capitains Sparrow Index</title>

  <!--[if lt IE 9]>
  <script src="/Capitains-Sparrow/html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link type="text/css" rel="stylesheet" href="/Capitains-Sparrowdoc_html/api/styles/sunlight.default.css">

  <link type="text/css" rel="stylesheet" href="/Capitains-Sparrowdoc_html/api/styles/site.journal.css">

</head>

<body>
  <div class="container-fluid">
    <div class="navbar navbar-fixed-top ">
      <div class="navbar-inner">
        <a class="brand" href="/Capitains-Sparrowindex.html">Capitains Sparrow</a>
        <ul class="nav">
          <li><a href="/Capitains-Sparrowindex.html">Home</a></li>
          <li><a href="/Capitains-Sparrowdoc_html/api/">API Documentation</a></li>
        </ul>
      </div>
    </div>

    <div class="row-fluid">

      
      <div class="span12">
        
          <div id="main">
          <h1 id="adding-a-new-cts-service-implementation">Adding a new CTS.Service implementation</h1>
<p>Fork, branch and propose by PR. But before PRequesting, here are some tips !</p>
<h2 id="code-it">Code it</h2>
<p>Services are really &quot;simple&quot; to implement. You will have to use the prototype most of the time and just declare options :</p>
<pre><code class="lang-javascript">CTS.service.services[&quot;name of plugin&quot;] = function(endpoint, options) {
  //We call the prototype
  CTS.service._service.call(this, endpoint, options);
  this.options = {
    &quot;e_lang&quot; : { 
      //Type can be string, boolean, list
      &quot;type&quot; : &quot;string&quot;,
      //html can be textarea, checkbox, hidden or input(for input[type=&quot;text&quot;])
      &quot;html&quot; : &quot;input&quot;,
      //Default can be a function, anonymous function, a string, a boolean, a list or simply not exist !
      &quot;default&quot; : &quot;lat&quot;
    }
  }
}
//Then we need to create the prototype
CTS.service.services[&quot;name of plugin&quot;].prototype = Object.create(CTS.service._service)
</code></pre>
<p><a href="https://github.com/PerseusDL/Capitains-Sparrow/blob/master/src/services/llt.tokenizer.js">Example</a></p>
<p>You can also overwrite prototypes methods after the call. See <a href="https://github.com/PerseusDL/Capitains-Sparrow/blob/master/src/modules/service.js">CTS.Service abstraction code</a></p>
<h2 id="add-tests">Add tests</h2>
<p>For now, tests are limited to just checking in <code>spec/javascripts/modules/cts.service.specs.js</code> that the service is available. In the following describe :</p>
<pre><code class="lang-javascript">describe(&quot;Available plugins should be registered&quot;, function() {
});
</code></pre>
<p>Add a test like the following :</p>
<pre><code class="lang-javascript">it(&quot;should have (Name of your Service Plugin)&quot;, function() {
  expect(CTS.service.services[&quot;Name of your Service Plugin&quot;]).toBeDefined();
})
</code></pre>
<h2 id="i18n-it-">I18n it !</h2>
<p>If you want your plugin to be available in jQuery or any other libraries, it would be cool that you offer at least one language. To do so, create for each options field an entry in an i18n file, such as <a href="https://github.com/PerseusDL/Capitains-Sparrow/blob/master/src/i18n/en.js">the English language one</a>. Follow the template <code>nameoftheplugin.fieldname</code> for keys. Example for llt.tokenizer :</p>
<pre><code class="lang-javascript">&quot;llt.tokenizer&quot; : &quot;Tokenizer parameters&quot;,
&quot;llt.tokenizer.xml&quot; : &quot;XML Formatted input&quot;,
&quot;llt.tokenizer.inline&quot; : &quot;?&quot;,
&quot;llt.tokenizer.splitting&quot; : &quot;Split Enclytics&quot;,
&quot;llt.tokenizer.merging&quot; : &quot;Merge split words&quot;,
&quot;llt.tokenizer.shifting&quot; : &quot;Shift Enclytics&quot;,
&quot;llt.tokenizer.text&quot; : &quot;Text to tokenize&quot;,
&quot;llt.tokenizer.remove_node&quot; : &quot;Nodes to remove from XML&quot;,
&quot;llt.tokenizer.go_to_root&quot; : &quot;Name of the root node&quot;,
&quot;llt.tokenizer.ns&quot; : &quot;Namespace of the XML&quot;,
</code></pre>
<h2 id="document-it">Document it</h2>
<p>Create a new document in <code>services.</code> with the name of your plugin. Add the link to the <a href="/Capitains-Sparrowindex.html">/index.html</a> markdown file </p>
<pre><code>##Relevant links
- [Capitains Sparrow Implementation Source](https://github.com/PerseusDL/Capitains-Sparrow/blob/master/src/services/newService.js)
- [Service File](URI To an example of the Service Running or code base)

##Parameters

| Parameter name         | Type    | Default  | HTML Embodiement   | Description            |  
| ---------------------- | ------- | -------- | ---------          | ---------------------- |  
| e_lang                 | string  | lat      | input[type=&quot;text&quot;] | Input language         |
</code></pre><p><a href="./llt.tokenizer.html">Example</a></p>

          </div>

          <div class="clearfix"></div>
          <footer>
            <span class="copyright">
            @PerseusDL
            </span>
                  <br />
                  
            <span class="jsdoc-message">
            Documentation generated by <a href="/Capitains-Sparrowdoc_html/apihttps://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a>using the <a
              href="/Capitains-Sparrowdoc_html/apihttps://github.com/terryweiss/docstrap">DocStrap template</a>.
            </span>
          </footer>
        </div>
        
        <br clear="both">
      </div>

  </div>
  <!--<script src="scripts/sunlight.js"></script>-->
  <script src="/Capitains-Sparrowdoc_html/api/scripts/docstrap.lib.js"></script>
  <script src="/Capitains-Sparrowdoc_html/api/scripts/bootstrap-dropdown.js"></script>
  <script src="/Capitains-Sparrowdoc_html/api/scripts/toc.js"></script>
</body>
</html>