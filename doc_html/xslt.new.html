<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Capitains Sparrow Index</title>

  <!--[if lt IE 9]>
  <script src="/Capitains-Sparrow/html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link type="text/css" rel="stylesheet" href="/Capitains-Sparrowdoc_html/api/styles/sunlight.default.css">

  <link type="text/css" rel="stylesheet" href="/Capitains-Sparrowdoc_html/api/styles/site.journal.css">

</head>

<body>
  <div class="container-fluid">
    <div class="navbar navbar-fixed-top ">
      <div class="navbar-inner">
        <a class="brand" href="/Capitains-Sparrowindex.html">Capitains Sparrow</a>
        <ul class="nav">
          <li><a href="/Capitains-Sparrowindex.html">Home</a></li>
          <li><a href="/Capitains-Sparrowdoc_html/api/">API Documentation</a></li>
        </ul>
      </div>
    </div>

    <div class="row-fluid">

      
      <div class="span12">
        
          <div id="main">
          <h1 id="adding-a-new-cts-xslt-implementation">Adding a new CTS.XSLT implementation</h1>
<p>Fork, branch and propose by PR. But before PRequesting, here are some tips !</p>
<h2 id="code-it">Code it</h2>
<p>XSLT are really &quot;simple&quot; to implement. You will have to use the prototype most of the time and just declare options :</p>
<pre><code class="lang-javascript">CTS.xslt.stylesheets[&quot;name of plugin&quot;] = function(endpoint, options) {
  //We call the prototype
  CTS.xslt.XSLT.call(this, endpoint, options);
  this.options = {
    &quot;e_lang&quot; : { 
      //Type can be string or boolean
      &quot;type&quot; : &quot;string&quot;,
      //html can be textarea, checkbox, hidden or input(for input[type=&quot;text&quot;])
      &quot;html&quot; : &quot;input&quot;,
      //Default can be a function, anonymous function, a string, a boolean or simply not exist !
      &quot;default&quot; : &quot;lat&quot;
    }
  }
}
//Then we need to create the prototype
CTS.xslt.stylesheets[&quot;name of plugin&quot;].prototype = Object.create(CTS.xslt.XSLT)
</code></pre>
<p><a href="https://github.com/PerseusDL/Capitains-Sparrow/blob/master/src/xslt/llt.segtok_to_tb.js">Example</a></p>
<p>You can also overwrite prototypes methods after the call. See <a href="https://github.com/PerseusDL/Capitains-Sparrow/blob/master/src/modules/xslt.js">CTS.XSLT abstraction code</a></p>
<h2 id="add-tests">Add tests</h2>
<p>For now, tests are limited to just checking in <code>spec/javascripts/modules/cts.xslt.specs.js</code> that the service is available. In the following describe :</p>
<pre><code class="lang-javascript">describe(&quot;Available plugins should be registered&quot;, function() {
});
</code></pre>
<p>Add a test like the following :</p>
<pre><code class="lang-javascript">it(&quot;should have (Name of your XSLT Plugin)&quot;, function() {
  expect(CTS.xslt.stylesheets[&quot;Name of your XSLT Plugin&quot;]).toBeDefined();
})
</code></pre>
<h2 id="i18n-it-">I18n it !</h2>
<p>If you want your plugin to be available in jQuery or any other libraries, it would be cool that you offer at least one language. To do so, create for each options field an entry in an i18n file, such as <a href="https://github.com/PerseusDL/Capitains-Sparrow/blob/master/src/i18n/en.js">the English language one</a>. Follow the template <code>nameoftheplugin.fieldname</code> for keys. Example for llt.segtok_to_tb :</p>
<pre><code class="lang-javascript">&quot;llt.segtok_to_tb&quot; : &quot;Treebank Parameters&quot;,
&quot;llt.segtok_to_tb.e_lang&quot; : &quot;Language&quot;,
&quot;llt.segtok_to_tb.e_format&quot; : &quot;Treebank grammar&quot;,
&quot;llt.segtok_to_tb.e_docuri&quot; : &quot;Document URI&quot;,
&quot;llt.segtok_to_tb.e_agenturi&quot; : &quot;Agent URI&quot;,
&quot;llt.segtok_to_tb.e_appuri&quot; : &quot;Application URI&quot;,
&quot;llt.segtok_to_tb.e_datetime&quot; : &quot;Date&quot;,
&quot;llt.segtok_to_tb.e_collection&quot; : &quot;Collection&quot;,
&quot;llt.segtok_to_tb.e_attachtoroot&quot; : &quot;Attach to the root&quot;,
</code></pre>
<h2 id="document-it">Document it</h2>
<p>Create a new document in <code>xslt.</code> with the name of your plugin. Add the link to the <a href="/Capitains-Sparrowindex.html">/index.html</a> markdown file </p>
<pre><code>##Relevant links
- [Capitains Sparrow Implementation Source](https://github.com/PerseusDL/Capitains-Sparrow/blob/master/src/xslt/newXSLT.js)
- [XSLT File](URI To an example of the XSLT File)

##Parameters

| Parameter name         | Type    | Default  | HTML Embodiement   | Description            |  
| ---------------------- | ------- | -------- | ---------          | ---------------------- |  
| e_lang                 | string  | lat      | input[type=&quot;text&quot;] | Input language         |
</code></pre><p><a href="./llt.segtok_to_tb.html">Example</a></p>

          </div>

          <div class="clearfix"></div>
          <footer>
            <span class="copyright">
            @PerseusDL
            </span>
                  <br />
                  
            <span class="jsdoc-message">
            Documentation generated by <a href="/Capitains-Sparrowdoc_html/apihttps://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a>using the <a
              href="/Capitains-Sparrowdoc_html/apihttps://github.com/terryweiss/docstrap">DocStrap template</a>.
            </span>
          </footer>
        </div>
        
        <br clear="both">
      </div>

  </div>
  <!--<script src="scripts/sunlight.js"></script>-->
  <script src="/Capitains-Sparrowdoc_html/api/scripts/docstrap.lib.js"></script>
  <script src="/Capitains-Sparrowdoc_html/api/scripts/bootstrap-dropdown.js"></script>
  <script src="/Capitains-Sparrowdoc_html/api/scripts/toc.js"></script>
</body>
</html>